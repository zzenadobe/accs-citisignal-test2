/*! Copyright 2025 Adobe
All Rights Reserved. */
const f="searchInputContext",R="searchResultsContext",L="livesearch-plp",U="livesearch-popover",C="search-product-click",_="search-request-sent",l="search-response-received",T="search-results-view",y="category-results-view";function g(){return window.adobeDataLayer=window.adobeDataLayer||[],window.adobeDataLayer}function h(s){const a=g();return a.getState?a.getState(s):{}}function I(s,a){const n=g();n.push({[s]:null}),n.push({[s]:a})}function S(s,a){g().push(c=>{const t=c.getState?c.getState():{};c.push({event:s,eventInfo:{...t,...a}})})}const v=s=>{S(_,{searchUnitId:s})},P=s=>{S(l,{searchUnitId:s})},w=s=>{S(y,{searchUnitId:s})},x=s=>{S(T,{searchUnitId:s})},A=(s,a)=>{S(C,{sku:s,searchUnitId:a})},N=(s,a,n,c,t,o,r)=>{if(!g)return;const e=h(f)||{};e!=null&&e.units||(e.units=[]);const u={searchUnitId:s,searchRequestId:a,queryTypes:["products","suggestions"],phrase:n,pageSize:t,currentPage:o,filter:c,sort:r},d=e.units.findIndex(E=>E.searchUnitId===s);d<0?e.units.push(u):e.units[d]=u,I(f,e)},k=(s,a,n)=>{var p,e;if(!g)return;const t=h(R)||{};t!=null&&t.units||(t.units=[]);const o=t.units.findIndex(u=>u.searchUnitId===s),r={searchUnitId:s,searchRequestId:a,products:b(n.items),categories:[],suggestions:i(n.suggestions),page:((p=n==null?void 0:n.pageInfo)==null?void 0:p.currentPage)||1,perPage:((e=n==null?void 0:n.pageInfo)==null?void 0:e.pageSize)||20,facets:D(n.facets)};o<0?t.units.push(r):t.units[o]=r,I(R,t)},b=s=>s?s.map((n,c)=>{var t,o,r,p,e,u,d,E;return{name:n==null?void 0:n.name,sku:n==null?void 0:n.sku,url:(n==null?void 0:n.url)??"",imageUrl:((t=n==null?void 0:n.images[0])==null?void 0:t.url)??"",price:((p=(r=(o=n==null?void 0:n.price)==null?void 0:o.final)==null?void 0:r.amount)==null?void 0:p.value)??((E=(d=(u=(e=n==null?void 0:n.priceRange)==null?void 0:e.minimum)==null?void 0:u.regular)==null?void 0:d.amount)==null?void 0:E.value),rank:c}}):[],i=s=>s?s.map((n,c)=>({suggestion:n,rank:c})):[],D=s=>s?s.map(n=>({attribute:n==null?void 0:n.attribute,title:n==null?void 0:n.title,type:(n==null?void 0:n.type)||"PINNED",buckets:n==null?void 0:n.buckets.map(c=>c)})):[];export{L as P,U as S,v as a,k as b,P as c,x as d,w as e,A as s,N as u};
//# sourceMappingURL=acdlEvents.js.map
