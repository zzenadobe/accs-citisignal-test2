/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsxs as C,jsx as r}from"@dropins/tools/preact-jsx-runtime.js";import{useState as a,useCallback as y,useEffect as I}from"@dropins/tools/preact-compat.js";import{classes as T,VComponent as f,Slot as m}from"@dropins/tools/lib.js";import{events as $}from"@dropins/tools/event-bus.js";/* empty css                   */import{useText as q}from"@dropins/tools/i18n.js";const F=({searchPhrase:e,totalCount:s,className:o=""})=>C("div",{className:T(["product-discovery-results-info",o]),children:[e&&r(f,{className:"product-discovery-results-info__search-phrase",node:e}),s&&r(f,{className:"product-discovery-results-info__total-count",node:s})]}),A=({slots:e})=>{const s=q({resultsFor:"Search.ResultsInfo.resultsFor",products:"Search.ResultsInfo.products"}),[o,S]=a(),[c,P]=a(),[n,R]=a(),[u,x]=a(),_=y(t=>{var h,l,d,i,p;P((d=(l=(h=t.request)==null?void 0:h.filter)==null?void 0:l.find(g=>g.attribute==="categoryPath"))==null?void 0:d.eq),S((i=t.request)==null?void 0:i.phrase),R((p=t.result)==null?void 0:p.totalCount),x(t)},[]);I(()=>{const t=$.on("search/result",_);return()=>{t==null||t.off()}},[]);const v=r(m,{name:"SearchPhrase",slot:e==null?void 0:e.SearchPhrase,context:{searchResult:u},children:c?r("span",{"data-testid":"search-phrase",class:"product-discovery-results-info__search-phrase--upercase",children:c}):o?C("span",{"data-testid":"search-phrase",children:[s.resultsFor," ",r("strong",{children:`"${o}"`})]}):null}),N=r(m,{name:"TotalCount",slot:e==null?void 0:e.TotalCount,context:{searchResult:u},children:n&&r("span",{"data-testid":"total-count",children:`${n} ${s.products}`})});return r(F,{searchPhrase:v,totalCount:N})};export{A as ResultsInfo,A as default};
//# sourceMappingURL=ResultsInfo.js.map
