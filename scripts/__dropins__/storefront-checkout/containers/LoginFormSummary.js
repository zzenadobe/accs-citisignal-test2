/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as t}from"@dropins/tools/preact-jsx-runtime.js";/* empty css                             */import"@dropins/tools/components.js";import"../chunks/TermsAndConditions.js";import{Slot as u}from"@dropins/tools/lib.js";import{c as p}from"../chunks/classes.js";/* empty css                      */import"../chunks/errors.js";import{events as f}from"@dropins/tools/event-bus.js";import"@dropins/tools/preact-compat.js";/* empty css                  *//* empty css                       */import{useState as l,useCallback as g,useEffect as h}from"@dropins/tools/preact-hooks.js";import{S as y}from"../chunks/Summary.js";import{a as S}from"../chunks/events.js";import"@dropins/tools/signals.js";import"@dropins/tools/fetch-graphql.js";import"@dropins/tools/i18n.js";const d=({className:m,heading:r,email:o,onEditClick:e})=>t(y,{className:p([m,"checkout-login-form-summary"]),"data-testid":"checkout-login-form-summary",heading:r,onEditClick:e,children:t("span",{className:"checkout-login-form-summary__email","data-testid":"checkout-login-form-summary-email",children:o})}),k=({initialData:m,onEditClick:r,slots:o})=>{const[e,a]=l((m==null?void 0:m.email)??""),n=g(()=>{r==null||r()},[r]);if(h(()=>{const i=f.on("checkout/updated",s=>{a((s==null?void 0:s.email)??"")});return()=>{i==null||i.off()}},[]),e==="")return null;const c=o!=null&&o.Heading?t(u,{name:"LoginFormHeadingTitle",slot:o.Heading}):void 0;return t(d,{email:e,heading:c,onEditClick:n})};k.getInitialData=async()=>{const m=S();return Promise.resolve({email:(m==null?void 0:m.email)??""})};export{k as LoginFormSummary,k as default};
