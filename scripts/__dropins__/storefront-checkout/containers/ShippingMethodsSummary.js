/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as p,jsxs as a}from"@dropins/tools/preact-jsx-runtime.js";/* empty css                             */import"@dropins/tools/components.js";import"../chunks/TermsAndConditions.js";import{Slot as l}from"@dropins/tools/lib.js";/* empty css                      */import"../chunks/errors.js";import{events as g}from"@dropins/tools/event-bus.js";import{a as S}from"../chunks/events.js";import"@dropins/tools/preact-compat.js";/* empty css                  *//* empty css                       */import{useState as f,useCallback as y,useEffect as M}from"@dropins/tools/preact-hooks.js";import{c as k}from"../chunks/classes.js";import{S as _}from"../chunks/Summary.js";import"@dropins/tools/signals.js";import"@dropins/tools/fetch-graphql.js";import"@dropins/tools/i18n.js";const b=({className:t,shippingMethod:e,heading:s,onEditClick:i,...o})=>p(_,{className:k([t,"checkout-shipping-methods-summary"]),"data-testid":"checkout-shipping-methods-summary",heading:s,onEditClick:i,...o,children:a("div",{className:"checkout-shipping-methods-summary__content",children:[p("span",{className:"checkout-shipping-methods-summary__label","data-testid":"checkout-shipping-methods-summary-label",children:e.label}),e.description&&p("span",{className:"checkout-shipping-methods-summary__description","data-testid":"checkout-shipping-methods-summary-description",children:e.description})]})}),v=({initialData:t,onEditClick:e,slots:s})=>{const[i,o]=f((t==null?void 0:t.shippingMethod)??null),c=y(()=>{e==null||e()},[e]);if(M(()=>{const r=g.on("checkout/updated",m=>{var n,h;const u=((h=(n=m==null?void 0:m.shippingAddresses)==null?void 0:n[0])==null?void 0:h.selectedShippingMethod)??null;o(u)});return()=>{r==null||r.off()}},[]),!i)return null;const d=s!=null&&s.Heading?p(l,{name:"ShippingMethodsHeadingTitle",slot:s.Heading}):void 0;return p(b,{heading:d,shippingMethod:{label:i.carrier.title,description:i.title},onEditClick:c})};v.getInitialData=async()=>{var s,i;const t=S(),e=((i=(s=t==null?void 0:t.shippingAddresses)==null?void 0:s[0])==null?void 0:i.selectedShippingMethod)??null;return Promise.resolve({shippingMethod:e})};export{v as ShippingMethodsSummary,v as default};
